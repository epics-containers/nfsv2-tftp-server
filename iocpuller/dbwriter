i=0
rm -f /iocs/ioc_env_vars
while true; do 
    #very hacky method to test if env variables are set
    if printenv APP_NAME_$i > .tmp && printenv IOC_NAME_$i > .tmp && printenv REPO_PATH_$i > .tmp && \
    printenv REPO_TAG_$i > .tmp && printenv CLIENTIP_$i > .tmp;
    then rm .tmp; (echo -n `printenv APP_NAME_$i`; echo -n " "; \
    echo -n `printenv IOC_NAME_$i`; echo -n " "; \
    echo -n `printenv REPO_PATH_$i`; echo -n " "; \
    echo -n `printenv REPO_TAG_$i`; echo -n " "; \
    echo -n `printenv CLIENTIP_$i`; echo " ") | cat >> /iocs/ioc_env_vars;
    else
    rm .tmp
    break
    fi
    let "++i"
    done;
    #this is probably a really dumb way to do this